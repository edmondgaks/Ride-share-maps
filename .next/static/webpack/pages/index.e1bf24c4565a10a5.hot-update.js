"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
self["webpackHotUpdate_N_E"]("pages/index",{

/***/ "./pages/index.js":
/*!************************!*\
  !*** ./pages/index.js ***!
  \************************/
/***/ (function(module, __webpack_exports__, __webpack_require__) {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": function() { return /* binding */ App; }\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"./node_modules/react/jsx-dev-runtime.js\");\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"./node_modules/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _googlemaps_react_wrapper__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @googlemaps/react-wrapper */ \"./node_modules/@googlemaps/react-wrapper/dist/index.umd.js\");\n/* harmony import */ var _googlemaps_react_wrapper__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_googlemaps_react_wrapper__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _ubilabs_threejs_overlay_view__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @ubilabs/threejs-overlay-view */ \"./node_modules/@ubilabs/threejs-overlay-view/dist/threejs-overlay-view.modern.js\");\n/* harmony import */ var three__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! three */ \"./node_modules/three/build/three.module.js\");\n/* harmony import */ var three_examples_jsm_loaders_GLTFLoader__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! three/examples/jsm/loaders/GLTFLoader */ \"./node_modules/three/examples/jsm/loaders/GLTFLoader.js\");\n/* harmony import */ var three_examples_jsm_lines_Line2_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! three/examples/jsm/lines/Line2.js */ \"./node_modules/three/examples/jsm/lines/Line2.js\");\n/* harmony import */ var three_examples_jsm_lines_LineMaterial_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! three/examples/jsm/lines/LineMaterial.js */ \"./node_modules/three/examples/jsm/lines/LineMaterial.js\");\n/* harmony import */ var three_examples_jsm_lines_LineGeometry_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! three/examples/jsm/lines/LineGeometry.js */ \"./node_modules/three/examples/jsm/lines/LineGeometry.js\");\n/* harmony import */ var use_places_autocomplete__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! use-places-autocomplete */ \"./node_modules/use-places-autocomplete/dist/index.esm.js\");\n/* harmony import */ var _utils_calculateCenter__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../utils/calculateCenter */ \"./utils/calculateCenter.js\");\n/* harmony import */ var _components_MyMap__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../components/MyMap */ \"./components/MyMap.js\");\n\nvar _s = $RefreshSig$(), _s1 = $RefreshSig$();\n\n\n\n\n\n\n\n\n\n\n\nconst stops = [\n    {\n        name: \"Nyabugogo\",\n        location: {\n            lat: -1.939826787816454,\n            lng: 30.0445426438232\n        }\n    },\n    {\n        name: \"Stop A\",\n        location: {\n            lat: -1.9355377074007851,\n            lng: 30.060163829002217\n        }\n    },\n    {\n        name: \"Stop B\",\n        location: {\n            lat: -1.9358808342336546,\n            lng: 30.08024820994666\n        }\n    },\n    {\n        name: \"Stop C\",\n        location: {\n            lat: -1.9489196023037583,\n            lng: 30.092607828989397\n        }\n    },\n    {\n        name: \"Stop D\",\n        location: {\n            lat: -1.9592132952818164,\n            lng: 30.106684061788073\n        }\n    },\n    {\n        name: \"Stop E\",\n        location: {\n            lat: -1.9487480402200394,\n            lng: 30.126596781356923\n        }\n    },\n    {\n        name: \"Kimironko\",\n        location: {\n            lat: -1.9365670876910166,\n            lng: 30.13020167024439\n        }\n    }\n];\nconst averageSpeed = 60;\nconst center = (0,_utils_calculateCenter__WEBPACK_IMPORTED_MODULE_5__[\"default\"])(stops);\nconsole.log(center);\nfunction App() {\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_googlemaps_react_wrapper__WEBPACK_IMPORTED_MODULE_2__.Wrapper, {\n        apiKey: \"AIzaSyDBcHJYFW4qubVFy7jhhlt1oC-SDcV7eqg\",\n        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_MyMap__WEBPACK_IMPORTED_MODULE_6__[\"default\"], {}, void 0, false, {\n            fileName: \"/Users/edmond/Documents/google-maps-threejs/pages/index.js\",\n            lineNumber: 36,\n            columnNumber: 7\n        }, this)\n    }, void 0, false, {\n        fileName: \"/Users/edmond/Documents/google-maps-threejs/pages/index.js\",\n        lineNumber: 35,\n        columnNumber: 5\n    }, this);\n}\n_c = App;\nasync function fetchDirections(origin, destination, setRoute) {\n    const [originResults, destinationResults] = await Promise.all([\n        (0,use_places_autocomplete__WEBPACK_IMPORTED_MODULE_4__.getGeocode)({\n            address: origin\n        }),\n        (0,use_places_autocomplete__WEBPACK_IMPORTED_MODULE_4__.getGeocode)({\n            address: destination\n        })\n    ]);\n    const [originLocation, destinationLocation] = await Promise.all([\n        (0,use_places_autocomplete__WEBPACK_IMPORTED_MODULE_4__.getLatLng)(originResults[0]),\n        (0,use_places_autocomplete__WEBPACK_IMPORTED_MODULE_4__.getLatLng)(destinationResults[0])\n    ]);\n    const waypoints = stops.map((stop)=>({\n            location: \"\".concat(stop.location.lat, \",\").concat(stop.location.lng),\n            stopover: true\n        }));\n    const service = new google.maps.DirectionsService();\n    service.route({\n        origin: originLocation,\n        destination: destinationLocation,\n        waypoints: waypoints,\n        optimizeWaypoints: true,\n        travelMode: google.maps.TravelMode.DRIVING\n    }, (result, status)=>{\n        if (status === \"OK\" && result) {\n            const route = result.routes[0].overview_path.map((path)=>({\n                    lat: path.lat(),\n                    lng: path.lng()\n                }));\n            setRoute(route);\n        }\n    });\n}\nlet ANIMATION_MS = 0;\nfunction Directions(param) {\n    let { setRoute , map  } = param;\n    _s();\n    const [origin] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"Nyabugogo\");\n    const [destination] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"Kimironko\");\n    const [currentPosition, setCurrentPosition] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(stops[0].location);\n    const [eta, setEta] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)();\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        const watchId = navigator.geolocation.watchPosition((position)=>{\n            setCurrentPosition({\n                lat: position.coords.latitude,\n                lng: position.coords.longitude\n            });\n        }, (error)=>{\n            console.error(\"Error getting current position:\", error);\n        });\n        return ()=>{\n            navigator.geolocation.clearWatch(watchId);\n        };\n    }, []);\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        if (map) {\n            stops.forEach((stop, index)=>{\n                new window.google.maps.Marker({\n                    position: stop.location,\n                    map: map,\n                    label: index + 1 + \"\",\n                    title: stop.name\n                });\n            });\n        }\n    }, [\n        map\n    ]);\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        const nextStopIndex = Math.min(stops.findIndex((stop)=>stop.name === \"Kimironko\") + 1, stops.length - 1);\n        const nextStop = stops[nextStopIndex];\n        const distanceToNextStop = calculateDistance(currentPosition.lat, currentPosition.lng, nextStop.location.lat, nextStop.location.lng);\n        const etaInSeconds = distanceToNextStop / averageSpeed * 3600;\n        const etaInMinutes = Math.round(etaInSeconds / 60);\n        const etaInKilometers = Math.round(distanceToNextStop * 100) / 100;\n        ANIMATION_MS = etaInMinutes * 60000;\n        setEta({\n            distance: etaInKilometers,\n            time: etaInMinutes,\n            nextStop: nextStop.name\n        });\n    }, [\n        currentPosition\n    ]);\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        fetchDirections(origin, destination, setRoute);\n    }, [\n        origin,\n        destination\n    ]);\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, {\n        children: eta && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n            className: \"directions\",\n            children: [\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h2\", {\n                    children: \"Directions\"\n                }, void 0, false, {\n                    fileName: \"/Users/edmond/Documents/google-maps-threejs/pages/index.js\",\n                    lineNumber: 158,\n                    columnNumber: 11\n                }, this),\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h3\", {\n                    children: \"Next Stop\"\n                }, void 0, false, {\n                    fileName: \"/Users/edmond/Documents/google-maps-threejs/pages/index.js\",\n                    lineNumber: 159,\n                    columnNumber: 11\n                }, this),\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                    children: eta.nextStop\n                }, void 0, false, {\n                    fileName: \"/Users/edmond/Documents/google-maps-threejs/pages/index.js\",\n                    lineNumber: 160,\n                    columnNumber: 11\n                }, this),\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h3\", {\n                    children: \"Distance to Next Stop\"\n                }, void 0, false, {\n                    fileName: \"/Users/edmond/Documents/google-maps-threejs/pages/index.js\",\n                    lineNumber: 161,\n                    columnNumber: 11\n                }, this),\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                    children: [\n                        eta.distance,\n                        \" km\"\n                    ]\n                }, void 0, true, {\n                    fileName: \"/Users/edmond/Documents/google-maps-threejs/pages/index.js\",\n                    lineNumber: 162,\n                    columnNumber: 11\n                }, this),\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h3\", {\n                    children: \"Estimated Time to Next Stop\"\n                }, void 0, false, {\n                    fileName: \"/Users/edmond/Documents/google-maps-threejs/pages/index.js\",\n                    lineNumber: 163,\n                    columnNumber: 11\n                }, this),\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                    children: [\n                        eta.time,\n                        \" minutes\"\n                    ]\n                }, void 0, true, {\n                    fileName: \"/Users/edmond/Documents/google-maps-threejs/pages/index.js\",\n                    lineNumber: 164,\n                    columnNumber: 11\n                }, this)\n            ]\n        }, void 0, true, {\n            fileName: \"/Users/edmond/Documents/google-maps-threejs/pages/index.js\",\n            lineNumber: 157,\n            columnNumber: 7\n        }, this)\n    }, void 0, false);\n}\n_s(Directions, \"iPLPYIy3/5sPI6eos8Byu2z29XI=\");\n_c1 = Directions;\nfunction calculateDistance(lat1, lon1, lat2, lon2) {\n    const R = 6371; // Radius of the earth in km\n    const dLat = deg2rad(lat2 - lat1); // deg2rad below\n    const dLon = deg2rad(lon2 - lon1);\n    const a = Math.sin(dLat / 2) * Math.sin(dLat / 2) + Math.cos(deg2rad(lat1)) * Math.cos(deg2rad(lat2)) * Math.sin(dLon / 2) * Math.sin(dLon / 2);\n    const c = 2 * Math.atan2(Math.sqrt(a), Math.sqrt(1 - a));\n    const d = R * c; // Distance in km\n    return d;\n}\nfunction deg2rad(deg) {\n    return deg * (Math.PI / 180);\n}\nconst FRONT_VECTOR = new three__WEBPACK_IMPORTED_MODULE_7__.Vector3(0, -1, 0);\nfunction Animate(param) {\n    let { route , map  } = param;\n    _s1();\n    const overlayRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)();\n    const trackRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)();\n    const carRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)();\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        map.setCenter(route[Math.floor(route.length / 2)], 17);\n        if (!overlayRef.current) {\n            overlayRef.current = new _ubilabs_threejs_overlay_view__WEBPACK_IMPORTED_MODULE_3__[\"default\"](mapOptions.center);\n            overlayRef.current.setMap(map);\n        }\n        const scene = overlayRef.current.getScene();\n        const points = route.map((p)=>overlayRef.current.latLngAltToVector3(p));\n        const curve = new three__WEBPACK_IMPORTED_MODULE_7__.CatmullRomCurve3(points);\n        if (trackRef.current) {\n            scene.remove(trackRef.current);\n        }\n        trackRef.current = createTrackFromCurve(curve);\n        scene.add(trackRef.current);\n        loadModel().then((model)=>{\n            if (carRef.current) {\n                scene.remove(carRef.current);\n            }\n            carRef.current = model;\n            scene.add(carRef.current);\n        });\n        overlayRef.current.update = ()=>{\n            trackRef.current.material.resolution.copy(overlayRef.current.getViewportSize());\n            if (carRef.current) {\n                const progress = performance.now() % ANIMATION_MS / ANIMATION_MS;\n                curve.getPointAt(progress, carRef.current.position);\n                carRef.current.quaternion.setFromUnitVectors(FRONT_VECTOR, curve.getTangentAt(progress));\n                carRef.current.rotateX(Math.PI / 2);\n            }\n            overlayRef.current.requestRedraw();\n        };\n        return ()=>{\n            scene.remove(trackRef.current);\n            scene.remove(carRef.current);\n        };\n    }, [\n        route\n    ]);\n}\n_s1(Animate, \"ngmQrhG33yL2qXSw+16+H4HPglk=\");\n_c2 = Animate;\nfunction createTrackFromCurve(curve) {\n    const points = curve.getSpacedPoints(curve.points.length * 10);\n    const positions = points.map((point)=>point.toArray()).flat();\n    return new three_examples_jsm_lines_Line2_js__WEBPACK_IMPORTED_MODULE_8__.Line2(new three_examples_jsm_lines_LineGeometry_js__WEBPACK_IMPORTED_MODULE_9__.LineGeometry().setPositions(positions), new three_examples_jsm_lines_LineMaterial_js__WEBPACK_IMPORTED_MODULE_10__.LineMaterial({\n        color: 0x0000ff,\n        linewidth: 8\n    }));\n}\nasync function loadModel() {\n    const loader = new three_examples_jsm_loaders_GLTFLoader__WEBPACK_IMPORTED_MODULE_11__.GLTFLoader();\n    const object = await loader.loadAsync(\"/low_poly_car/scene.gltf\");\n    const group = object.scene;\n    group.scale.setScalar(0.5);\n    return group;\n}\nvar _c, _c1, _c2;\n$RefreshReg$(_c, \"App\");\n$RefreshReg$(_c1, \"Directions\");\n$RefreshReg$(_c2, \"Animate\");\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // AMP / No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevExports = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevExports) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports on update so we can compare the boundary\n                // signatures.\n                module.hot.dispose(function (data) {\n                    data.prevExports = currentExports;\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevExports !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevExports, currentExports)) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevExports !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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LGFBQWE7UUFDbEM7UUFFQSxPQUFPLElBQU07WUFDWHhCLE1BQU1LLE1BQU0sQ0FBQ1osU0FBU0ksT0FBTztZQUM3QkcsTUFBTUssTUFBTSxDQUFDWCxPQUFPRyxPQUFPO1FBQzdCO0lBQ0YsR0FBRztRQUFDM0U7S0FBTTtBQUNaO0lBdERTcUU7TUFBQUE7QUF3RFQsU0FBU2UscUJBQXFCRixLQUFLLEVBQUU7SUFDbkMsTUFBTUYsU0FBU0UsTUFBTXFCLGVBQWUsQ0FBQ3JCLE1BQU1GLE1BQU0sQ0FBQzVDLE1BQU0sR0FBRztJQUMzRCxNQUFNb0UsWUFBWXhCLE9BQU92RixHQUFHLENBQUMsQ0FBQ2dILFFBQVVBLE1BQU1DLE9BQU8sSUFBSUMsSUFBSTtJQUU3RCxPQUFPLElBQUloSixvRUFBS0EsQ0FDZCxJQUFJRSxrRkFBWUEsR0FBRytJLFlBQVksQ0FBQ0osWUFDaEMsSUFBSTVJLG1GQUFZQSxDQUFDO1FBQ2ZpSixPQUFPO1FBQ1BDLFdBQVc7SUFDYjtBQUVKO0FBRUEsZUFBZXhCLFlBQVk7SUFDekIsTUFBTXlCLFNBQVMsSUFBSXJKLDhFQUFVQTtJQUM3QixNQUFNc0osU0FBUyxNQUFNRCxPQUFPRSxTQUFTLENBQUM7SUFDdEMsTUFBTUMsUUFBUUYsT0FBT2xDLEtBQUs7SUFDMUJvQyxNQUFNQyxLQUFLLENBQUNDLFNBQVMsQ0FBQztJQUV0QixPQUFPRjtBQUNUIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vX05fRS8uL3BhZ2VzL2luZGV4LmpzP2JlZTciXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IFJlYWN0LCB7IHVzZVN0YXRlLCB1c2VFZmZlY3QsIHVzZVJlZiB9IGZyb20gXCJyZWFjdFwiO1xuaW1wb3J0IHsgV3JhcHBlciB9IGZyb20gXCJAZ29vZ2xlbWFwcy9yZWFjdC13cmFwcGVyXCI7XG5pbXBvcnQgVGhyZWVqc092ZXJsYXlWaWV3IGZyb20gXCJAdWJpbGFicy90aHJlZWpzLW92ZXJsYXktdmlld1wiO1xuaW1wb3J0IHsgQ2F0bXVsbFJvbUN1cnZlMywgVmVjdG9yMyB9IGZyb20gXCJ0aHJlZVwiO1xuaW1wb3J0IHsgR0xURkxvYWRlciB9IGZyb20gXCJ0aHJlZS9leGFtcGxlcy9qc20vbG9hZGVycy9HTFRGTG9hZGVyXCI7XG5pbXBvcnQgeyBMaW5lMiB9IGZyb20gXCJ0aHJlZS9leGFtcGxlcy9qc20vbGluZXMvTGluZTIuanNcIjtcbmltcG9ydCB7IExpbmVNYXRlcmlhbCB9IGZyb20gXCJ0aHJlZS9leGFtcGxlcy9qc20vbGluZXMvTGluZU1hdGVyaWFsLmpzXCI7XG5pbXBvcnQgeyBMaW5lR2VvbWV0cnkgfSBmcm9tIFwidGhyZWUvZXhhbXBsZXMvanNtL2xpbmVzL0xpbmVHZW9tZXRyeS5qc1wiO1xuaW1wb3J0IHsgZ2V0R2VvY29kZSwgZ2V0TGF0TG5nIH0gZnJvbSBcInVzZS1wbGFjZXMtYXV0b2NvbXBsZXRlXCI7XG5pbXBvcnQgY2FsY3VsYXRlQ2VudGVyIGZyb20gXCIuLi91dGlscy9jYWxjdWxhdGVDZW50ZXJcIjtcbmltcG9ydCBNeU1hcCBmcm9tIFwiLi4vY29tcG9uZW50cy9NeU1hcFwiO1xuXG5jb25zdCBzdG9wcyA9IFtcbiAgeyBuYW1lOiBcIk55YWJ1Z29nb1wiLCBsb2NhdGlvbjogeyBsYXQ6IC0xLjkzOTgyNjc4NzgxNjQ1NCwgbG5nOiAgMzAuMDQ0NTQyNjQzODIzMiB9IH0sXG4gIHsgbmFtZTogXCJTdG9wIEFcIiwgbG9jYXRpb246IHsgbGF0OiAtMS45MzU1Mzc3MDc0MDA3ODUxLCBsbmc6IDMwLjA2MDE2MzgyOTAwMjIxNyB9IH0sXG4gIHsgbmFtZTogXCJTdG9wIEJcIiwgbG9jYXRpb246IHsgbGF0OiAtMS45MzU4ODA4MzQyMzM2NTQ2LCBsbmc6IDMwLjA4MDI0ODIwOTk0NjY2IH0gfSxcbiAgeyBuYW1lOiBcIlN0b3AgQ1wiLCBsb2NhdGlvbjogeyBsYXQ6IC0xLjk0ODkxOTYwMjMwMzc1ODMsIGxuZzogMzAuMDkyNjA3ODI4OTg5Mzk3IH0gfSxcbiAgeyBuYW1lOiBcIlN0b3AgRFwiLCBsb2NhdGlvbjogeyBsYXQ6IC0xLjk1OTIxMzI5NTI4MTgxNjQsIGxuZzogMzAuMTA2Njg0MDYxNzg4MDczIH0gfSxcbiAgeyBuYW1lOiBcIlN0b3AgRVwiLCBsb2NhdGlvbjogeyBsYXQ6IC0xLjk0ODc0ODA0MDIyMDAzOTQsIGxuZzogMzAuMTI2NTk2NzgxMzU2OTIzIH0gfSxcbiAgeyBuYW1lOiBcIktpbWlyb25rb1wiLCBsb2NhdGlvbjogeyBsYXQ6IC0xLjkzNjU2NzA4NzY5MTAxNjYsIGxuZzogMzAuMTMwMjAxNjcwMjQ0MzkgfSB9LCAvLyBFbmRpbmcgUG9pbnRcbl07XG5cbmNvbnN0IGF2ZXJhZ2VTcGVlZCA9IDYwO1xuXG5cbmNvbnN0IGNlbnRlciA9IGNhbGN1bGF0ZUNlbnRlcihzdG9wcyk7XG5jb25zb2xlLmxvZyhjZW50ZXIpO1xuXG5cblxuXG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIEFwcCgpIHtcbiAgcmV0dXJuIChcbiAgICA8V3JhcHBlciBhcGlLZXk9XCJBSXphU3lEQmNISllGVzRxdWJWRnk3amhobHQxb0MtU0RjVjdlcWdcIj5cbiAgICAgIDxNeU1hcCAvPlxuICAgIDwvV3JhcHBlcj5cbiAgKTtcbn1cblxuXG5cbmFzeW5jIGZ1bmN0aW9uIGZldGNoRGlyZWN0aW9ucyhvcmlnaW4sIGRlc3RpbmF0aW9uLCBzZXRSb3V0ZSkge1xuICBjb25zdCBbb3JpZ2luUmVzdWx0cywgZGVzdGluYXRpb25SZXN1bHRzXSA9IGF3YWl0IFByb21pc2UuYWxsKFtcbiAgICBnZXRHZW9jb2RlKHsgYWRkcmVzczogb3JpZ2luIH0pLFxuICAgIGdldEdlb2NvZGUoeyBhZGRyZXNzOiBkZXN0aW5hdGlvbiB9KSxcbiAgXSk7XG5cbiAgY29uc3QgW29yaWdpbkxvY2F0aW9uLCBkZXN0aW5hdGlvbkxvY2F0aW9uXSA9IGF3YWl0IFByb21pc2UuYWxsKFtcbiAgICBnZXRMYXRMbmcob3JpZ2luUmVzdWx0c1swXSksXG4gICAgZ2V0TGF0TG5nKGRlc3RpbmF0aW9uUmVzdWx0c1swXSksXG4gIF0pO1xuXG4gIGNvbnN0IHdheXBvaW50cyA9IHN0b3BzLm1hcChzdG9wID0+ICh7XG4gICAgbG9jYXRpb246IGAke3N0b3AubG9jYXRpb24ubGF0fSwke3N0b3AubG9jYXRpb24ubG5nfWAsXG4gICAgc3RvcG92ZXI6IHRydWVcbiAgfSkpO1xuICBjb25zdCBzZXJ2aWNlID0gbmV3IGdvb2dsZS5tYXBzLkRpcmVjdGlvbnNTZXJ2aWNlKCk7XG4gIHNlcnZpY2Uucm91dGUoXG4gICAge1xuICAgICAgb3JpZ2luOiBvcmlnaW5Mb2NhdGlvbixcbiAgICAgIGRlc3RpbmF0aW9uOiBkZXN0aW5hdGlvbkxvY2F0aW9uLFxuICAgICAgd2F5cG9pbnRzOiB3YXlwb2ludHMsXG4gICAgICBvcHRpbWl6ZVdheXBvaW50czogdHJ1ZSxcbiAgICAgIHRyYXZlbE1vZGU6IGdvb2dsZS5tYXBzLlRyYXZlbE1vZGUuRFJJVklORyxcbiAgICB9LFxuICAgIChyZXN1bHQsIHN0YXR1cykgPT4ge1xuICAgICAgaWYgKHN0YXR1cyA9PT0gXCJPS1wiICYmIHJlc3VsdCkge1xuICAgICAgICBjb25zdCByb3V0ZSA9IHJlc3VsdC5yb3V0ZXNbMF0ub3ZlcnZpZXdfcGF0aC5tYXAoKHBhdGgpID0+ICh7XG4gICAgICAgICAgbGF0OiBwYXRoLmxhdCgpLFxuICAgICAgICAgIGxuZzogcGF0aC5sbmcoKSxcbiAgICAgICAgfSkpO1xuICAgICAgICBzZXRSb3V0ZShyb3V0ZSk7XG4gICAgICB9XG4gICAgfVxuICApO1xufVxuXG5cbmxldCBBTklNQVRJT05fTVMgPSAwO1xuXG5cbmZ1bmN0aW9uIERpcmVjdGlvbnMoeyBzZXRSb3V0ZSwgbWFwIH0pIHtcbiAgY29uc3QgW29yaWdpbl0gPSB1c2VTdGF0ZShcIk55YWJ1Z29nb1wiKTtcbiAgY29uc3QgW2Rlc3RpbmF0aW9uXSA9IHVzZVN0YXRlKFwiS2ltaXJvbmtvXCIpO1xuXG4gIGNvbnN0IFtjdXJyZW50UG9zaXRpb24sIHNldEN1cnJlbnRQb3NpdGlvbl0gPSB1c2VTdGF0ZShzdG9wc1swXS5sb2NhdGlvbik7XG4gIGNvbnN0IFtldGEsIHNldEV0YV0gPSB1c2VTdGF0ZSgpO1xuXG5cbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBjb25zdCB3YXRjaElkID0gbmF2aWdhdG9yLmdlb2xvY2F0aW9uLndhdGNoUG9zaXRpb24oXG4gICAgICAgIChwb3NpdGlvbikgPT4ge1xuICAgICAgICAgICAgc2V0Q3VycmVudFBvc2l0aW9uKHtcbiAgICAgICAgICAgICAgICBsYXQ6IHBvc2l0aW9uLmNvb3Jkcy5sYXRpdHVkZSxcbiAgICAgICAgICAgICAgICBsbmc6IHBvc2l0aW9uLmNvb3Jkcy5sb25naXR1ZGUsXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSxcbiAgICAgICAgKGVycm9yKSA9PiB7XG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKFwiRXJyb3IgZ2V0dGluZyBjdXJyZW50IHBvc2l0aW9uOlwiLCBlcnJvcik7XG4gICAgICAgIH1cbiAgICApO1xuXG4gICAgcmV0dXJuICgpID0+IHtcbiAgICAgICAgbmF2aWdhdG9yLmdlb2xvY2F0aW9uLmNsZWFyV2F0Y2god2F0Y2hJZCk7XG4gICAgfTtcbn0sIFtdKTtcblxudXNlRWZmZWN0KCgpID0+IHtcbiAgaWYgKG1hcCkge1xuICAgICAgc3RvcHMuZm9yRWFjaCgoc3RvcCwgaW5kZXgpID0+IHtcbiAgICAgICAgICBuZXcgd2luZG93Lmdvb2dsZS5tYXBzLk1hcmtlcih7XG4gICAgICAgICAgICAgIHBvc2l0aW9uOiBzdG9wLmxvY2F0aW9uLFxuICAgICAgICAgICAgICBtYXA6IG1hcCxcbiAgICAgICAgICAgICAgbGFiZWw6IGluZGV4ICsgMSArIFwiXCIsXG4gICAgICAgICAgICAgIHRpdGxlOiBzdG9wLm5hbWUsXG4gICAgICAgICAgfSk7XG4gICAgICB9KTtcbiAgfVxufSwgW21hcF0pO1xuXG51c2VFZmZlY3QoKCkgPT4ge1xuICBjb25zdCBuZXh0U3RvcEluZGV4ID0gTWF0aC5taW4oXG4gICAgICBzdG9wcy5maW5kSW5kZXgoKHN0b3ApID0+IHN0b3AubmFtZSA9PT0gXCJLaW1pcm9ua29cIikgKyAxLFxuICAgICAgc3RvcHMubGVuZ3RoIC0gMVxuICApO1xuICBjb25zdCBuZXh0U3RvcCA9IHN0b3BzW25leHRTdG9wSW5kZXhdO1xuICBjb25zdCBkaXN0YW5jZVRvTmV4dFN0b3AgPSBjYWxjdWxhdGVEaXN0YW5jZShcbiAgICAgIGN1cnJlbnRQb3NpdGlvbi5sYXQsXG4gICAgICBjdXJyZW50UG9zaXRpb24ubG5nLFxuICAgICAgbmV4dFN0b3AubG9jYXRpb24ubGF0LFxuICAgICAgbmV4dFN0b3AubG9jYXRpb24ubG5nXG4gICk7XG4gIGNvbnN0IGV0YUluU2Vjb25kcyA9IChkaXN0YW5jZVRvTmV4dFN0b3AgLyBhdmVyYWdlU3BlZWQpICogMzYwMDtcbiAgY29uc3QgZXRhSW5NaW51dGVzID0gTWF0aC5yb3VuZChldGFJblNlY29uZHMgLyA2MCk7XG4gIGNvbnN0IGV0YUluS2lsb21ldGVycyA9IE1hdGgucm91bmQoZGlzdGFuY2VUb05leHRTdG9wICogMTAwKSAvIDEwMDtcblxuXG4gIEFOSU1BVElPTl9NUyA9IGV0YUluTWludXRlcyAqIDYwMDAwO1xuICBcbiAgc2V0RXRhKHtcbiAgICAgIGRpc3RhbmNlOiBldGFJbktpbG9tZXRlcnMsXG4gICAgICB0aW1lOiBldGFJbk1pbnV0ZXMsXG4gICAgICBuZXh0U3RvcDogbmV4dFN0b3AubmFtZSxcbiAgfSk7XG59LCBbY3VycmVudFBvc2l0aW9uXSk7XG5cblxuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGZldGNoRGlyZWN0aW9ucyhvcmlnaW4sIGRlc3RpbmF0aW9uLCBzZXRSb3V0ZSk7XG4gIH0sIFtvcmlnaW4sIGRlc3RpbmF0aW9uXSk7XG5cblxuICByZXR1cm4gKFxuICAgIDw+XG4gICAge2V0YSAmJiAoXG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cImRpcmVjdGlvbnNcIj5cbiAgICAgICAgICA8aDI+RGlyZWN0aW9uczwvaDI+XG4gICAgICAgICAgPGgzPk5leHQgU3RvcDwvaDM+XG4gICAgICAgICAgPHA+e2V0YS5uZXh0U3RvcH08L3A+XG4gICAgICAgICAgPGgzPkRpc3RhbmNlIHRvIE5leHQgU3RvcDwvaDM+XG4gICAgICAgICAgPHA+e2V0YS5kaXN0YW5jZX0ga208L3A+XG4gICAgICAgICAgPGgzPkVzdGltYXRlZCBUaW1lIHRvIE5leHQgU3RvcDwvaDM+XG4gICAgICAgICAgPHA+e2V0YS50aW1lfSBtaW51dGVzPC9wPlxuICAgICAgPC9kaXY+XG4gICl9XG4gICAgPC8+XG4gICk7XG59XG5cblxuZnVuY3Rpb24gY2FsY3VsYXRlRGlzdGFuY2UobGF0MSwgbG9uMSwgbGF0MiwgbG9uMikge1xuICBjb25zdCBSID0gNjM3MTsgLy8gUmFkaXVzIG9mIHRoZSBlYXJ0aCBpbiBrbVxuICBjb25zdCBkTGF0ID0gZGVnMnJhZChsYXQyIC0gbGF0MSk7IC8vIGRlZzJyYWQgYmVsb3dcbiAgY29uc3QgZExvbiA9IGRlZzJyYWQobG9uMiAtIGxvbjEpO1xuICBjb25zdCBhID1cbiAgICAgIE1hdGguc2luKGRMYXQgLyAyKSAqIE1hdGguc2luKGRMYXQgLyAyKSArXG4gICAgICBNYXRoLmNvcyhkZWcycmFkKGxhdDEpKSAqXG4gICAgICBNYXRoLmNvcyhkZWcycmFkKGxhdDIpKSAqXG4gICAgICBNYXRoLnNpbihkTG9uIC8gMikgKlxuICAgICAgTWF0aC5zaW4oZExvbiAvIDIpO1xuICBjb25zdCBjID0gMiAqIE1hdGguYXRhbjIoTWF0aC5zcXJ0KGEpLCBNYXRoLnNxcnQoMSAtIGEpKTtcbiAgY29uc3QgZCA9IFIgKiBjOyAvLyBEaXN0YW5jZSBpbiBrbVxuICByZXR1cm4gZDtcbn1cblxuZnVuY3Rpb24gZGVnMnJhZChkZWcpIHtcbiAgcmV0dXJuIGRlZyAqIChNYXRoLlBJIC8gMTgwKTtcbn1cblxuXG5jb25zdCBGUk9OVF9WRUNUT1IgPSBuZXcgVmVjdG9yMygwLCAtMSwgMCk7XG5cbmZ1bmN0aW9uIEFuaW1hdGUoeyByb3V0ZSwgbWFwIH0pIHtcbiAgY29uc3Qgb3ZlcmxheVJlZiA9IHVzZVJlZigpO1xuICBjb25zdCB0cmFja1JlZiA9IHVzZVJlZigpO1xuICBjb25zdCBjYXJSZWYgPSB1c2VSZWYoKTtcblxuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIG1hcC5zZXRDZW50ZXIocm91dGVbTWF0aC5mbG9vcihyb3V0ZS5sZW5ndGggLyAyKV0sIDE3KTtcblxuICAgIGlmICghb3ZlcmxheVJlZi5jdXJyZW50KSB7XG4gICAgICBvdmVybGF5UmVmLmN1cnJlbnQgPSBuZXcgVGhyZWVqc092ZXJsYXlWaWV3KG1hcE9wdGlvbnMuY2VudGVyKTtcbiAgICAgIG92ZXJsYXlSZWYuY3VycmVudC5zZXRNYXAobWFwKTtcbiAgICB9XG5cbiAgICBjb25zdCBzY2VuZSA9IG92ZXJsYXlSZWYuY3VycmVudC5nZXRTY2VuZSgpO1xuICAgIGNvbnN0IHBvaW50cyA9IHJvdXRlLm1hcCgocCkgPT4gb3ZlcmxheVJlZi5jdXJyZW50LmxhdExuZ0FsdFRvVmVjdG9yMyhwKSk7XG4gICAgY29uc3QgY3VydmUgPSBuZXcgQ2F0bXVsbFJvbUN1cnZlMyhwb2ludHMpO1xuXG4gICAgaWYgKHRyYWNrUmVmLmN1cnJlbnQpIHtcbiAgICAgIHNjZW5lLnJlbW92ZSh0cmFja1JlZi5jdXJyZW50KTtcbiAgICB9XG4gICAgdHJhY2tSZWYuY3VycmVudCA9IGNyZWF0ZVRyYWNrRnJvbUN1cnZlKGN1cnZlKTtcbiAgICBzY2VuZS5hZGQodHJhY2tSZWYuY3VycmVudCk7XG5cbiAgICBsb2FkTW9kZWwoKS50aGVuKChtb2RlbCkgPT4ge1xuICAgICAgaWYgKGNhclJlZi5jdXJyZW50KSB7XG4gICAgICAgIHNjZW5lLnJlbW92ZShjYXJSZWYuY3VycmVudCk7XG4gICAgICB9XG4gICAgICBjYXJSZWYuY3VycmVudCA9IG1vZGVsO1xuICAgICAgc2NlbmUuYWRkKGNhclJlZi5jdXJyZW50KTtcbiAgICB9KTtcblxuICAgIG92ZXJsYXlSZWYuY3VycmVudC51cGRhdGUgPSAoKSA9PiB7XG4gICAgICB0cmFja1JlZi5jdXJyZW50Lm1hdGVyaWFsLnJlc29sdXRpb24uY29weShcbiAgICAgICAgb3ZlcmxheVJlZi5jdXJyZW50LmdldFZpZXdwb3J0U2l6ZSgpXG4gICAgICApO1xuXG4gICAgICBpZiAoY2FyUmVmLmN1cnJlbnQpIHtcbiAgICAgICAgY29uc3QgcHJvZ3Jlc3MgPSAocGVyZm9ybWFuY2Uubm93KCkgJSBBTklNQVRJT05fTVMpIC8gQU5JTUFUSU9OX01TO1xuICAgICAgICBjdXJ2ZS5nZXRQb2ludEF0KHByb2dyZXNzLCBjYXJSZWYuY3VycmVudC5wb3NpdGlvbik7XG4gICAgICAgIGNhclJlZi5jdXJyZW50LnF1YXRlcm5pb24uc2V0RnJvbVVuaXRWZWN0b3JzKFxuICAgICAgICAgIEZST05UX1ZFQ1RPUixcbiAgICAgICAgICBjdXJ2ZS5nZXRUYW5nZW50QXQocHJvZ3Jlc3MpXG4gICAgICAgICk7XG4gICAgICAgIGNhclJlZi5jdXJyZW50LnJvdGF0ZVgoTWF0aC5QSSAvIDIpO1xuICAgICAgfVxuXG4gICAgICBvdmVybGF5UmVmLmN1cnJlbnQucmVxdWVzdFJlZHJhdygpO1xuICAgIH07XG5cbiAgICByZXR1cm4gKCkgPT4ge1xuICAgICAgc2NlbmUucmVtb3ZlKHRyYWNrUmVmLmN1cnJlbnQpO1xuICAgICAgc2NlbmUucmVtb3ZlKGNhclJlZi5jdXJyZW50KTtcbiAgICB9O1xuICB9LCBbcm91dGVdKTtcbn1cblxuZnVuY3Rpb24gY3JlYXRlVHJhY2tGcm9tQ3VydmUoY3VydmUpIHtcbiAgY29uc3QgcG9pbnRzID0gY3VydmUuZ2V0U3BhY2VkUG9pbnRzKGN1cnZlLnBvaW50cy5sZW5ndGggKiAxMCk7XG4gIGNvbnN0IHBvc2l0aW9ucyA9IHBvaW50cy5tYXAoKHBvaW50KSA9PiBwb2ludC50b0FycmF5KCkpLmZsYXQoKTtcblxuICByZXR1cm4gbmV3IExpbmUyKFxuICAgIG5ldyBMaW5lR2VvbWV0cnkoKS5zZXRQb3NpdGlvbnMocG9zaXRpb25zKSxcbiAgICBuZXcgTGluZU1hdGVyaWFsKHtcbiAgICAgIGNvbG9yOiAweDAwMDBmZixcbiAgICAgIGxpbmV3aWR0aDogOCxcbiAgICB9KVxuICApO1xufVxuXG5hc3luYyBmdW5jdGlvbiBsb2FkTW9kZWwoKSB7XG4gIGNvbnN0IGxvYWRlciA9IG5ldyBHTFRGTG9hZGVyKCk7XG4gIGNvbnN0IG9iamVjdCA9IGF3YWl0IGxvYWRlci5sb2FkQXN5bmMoXCIvbG93X3BvbHlfY2FyL3NjZW5lLmdsdGZcIik7XG4gIGNvbnN0IGdyb3VwID0gb2JqZWN0LnNjZW5lO1xuICBncm91cC5zY2FsZS5zZXRTY2FsYXIoMC41KTtcblxuICByZXR1cm4gZ3JvdXA7XG59Il0sIm5hbWVzIjpbIlJlYWN0IiwidXNlU3RhdGUiLCJ1c2VFZmZlY3QiLCJ1c2VSZWYiLCJXcmFwcGVyIiwiVGhyZWVqc092ZXJsYXlWaWV3IiwiQ2F0bXVsbFJvbUN1cnZlMyIsIlZlY3RvcjMiLCJHTFRGTG9hZGVyIiwiTGluZTIiLCJMaW5lTWF0ZXJpYWwiLCJMaW5lR2VvbWV0cnkiLCJnZXRHZW9jb2RlIiwiZ2V0TGF0TG5nIiwiY2FsY3VsYXRlQ2VudGVyIiwiTXlNYXAiLCJzdG9wcyIsIm5hbWUiLCJsb2NhdGlvbiIsImxhdCIsImxuZyIsImF2ZXJhZ2VTcGVlZCIsImNlbnRlciIsImNvbnNvbGUiLCJsb2ciLCJBcHAiLCJhcGlLZXkiLCJmZXRjaERpcmVjdGlvbnMiLCJvcmlnaW4iLCJkZXN0aW5hdGlvbiIsInNldFJvdXRlIiwib3JpZ2luUmVzdWx0cyIsImRlc3RpbmF0aW9uUmVzdWx0cyIsIlByb21pc2UiLCJhbGwiLCJhZGRyZXNzIiwib3JpZ2luTG9jYXRpb24iLCJkZXN0aW5hdGlvbkxvY2F0aW9uIiwid2F5cG9pbnRzIiwibWFwIiwic3RvcCIsInN0b3BvdmVyIiwic2VydmljZSIsImdvb2dsZSIsIm1hcHMiLCJEaXJlY3Rpb25zU2VydmljZSIsInJvdXRlIiwib3B0aW1pemVXYXlwb2ludHMiLCJ0cmF2ZWxNb2RlIiwiVHJhdmVsTW9kZSIsIkRSSVZJTkciLCJyZXN1bHQiLCJzdGF0dXMiLCJyb3V0ZXMiLCJvdmVydmlld19wYXRoIiwicGF0aCIsIkFOSU1BVElPTl9NUyIsIkRpcmVjdGlvbnMiLCJjdXJyZW50UG9zaXRpb24iLCJzZXRDdXJyZW50UG9zaXRpb24iLCJldGEiLCJzZXRFdGEiLCJ3YXRjaElkIiwibmF2aWdhdG9yIiwiZ2VvbG9jYXRpb24iLCJ3YXRjaFBvc2l0aW9uIiwicG9zaXRpb24iLCJjb29yZHMiLCJsYXRpdHVkZSIsImxvbmdpdHVkZSIsImVycm9yIiwiY2xlYXJXYXRjaCIsImZvckVhY2giLCJpbmRleCIsIndpbmRvdyIsIk1hcmtlciIsImxhYmVsIiwidGl0bGUiLCJuZXh0U3RvcEluZGV4IiwiTWF0aCIsIm1pbiIsImZpbmRJbmRleCIsImxlbmd0aCIsIm5leHRTdG9wIiwiZGlzdGFuY2VUb05leHRTdG9wIiwiY2FsY3VsYXRlRGlzdGFuY2UiLCJldGFJblNlY29uZHMiLCJldGFJbk1pbnV0ZXMiLCJyb3VuZCIsImV0YUluS2lsb21ldGVycyIsImRpc3RhbmNlIiwidGltZSIsImRpdiIsImNsYXNzTmFtZSIsImgyIiwiaDMiLCJwIiwibGF0MSIsImxvbjEiLCJsYXQyIiwibG9uMiIsIlIiLCJkTGF0IiwiZGVnMnJhZCIsImRMb24iLCJhIiwic2luIiwiY29zIiwiYyIsImF0YW4yIiwic3FydCIsImQiLCJkZWciLCJQSSIsIkZST05UX1ZFQ1RPUiIsIkFuaW1hdGUiLCJvdmVybGF5UmVmIiwidHJhY2tSZWYiLCJjYXJSZWYiLCJzZXRDZW50ZXIiLCJmbG9vciIsImN1cnJlbnQiLCJtYXBPcHRpb25zIiwic2V0TWFwIiwic2NlbmUiLCJnZXRTY2VuZSIsInBvaW50cyIsImxhdExuZ0FsdFRvVmVjdG9yMyIsImN1cnZlIiwicmVtb3ZlIiwiY3JlYXRlVHJhY2tGcm9tQ3VydmUiLCJhZGQiLCJsb2FkTW9kZWwiLCJ0aGVuIiwibW9kZWwiLCJ1cGRhdGUiLCJtYXRlcmlhbCIsInJlc29sdXRpb24iLCJjb3B5IiwiZ2V0Vmlld3BvcnRTaXplIiwicHJvZ3Jlc3MiLCJwZXJmb3JtYW5jZSIsIm5vdyIsImdldFBvaW50QXQiLCJxdWF0ZXJuaW9uIiwic2V0RnJvbVVuaXRWZWN0b3JzIiwiZ2V0VGFuZ2VudEF0Iiwicm90YXRlWCIsInJlcXVlc3RSZWRyYXciLCJnZXRTcGFjZWRQb2ludHMiLCJwb3NpdGlvbnMiLCJwb2ludCIsInRvQXJyYXkiLCJmbGF0Iiwic2V0UG9zaXRpb25zIiwiY29sb3IiLCJsaW5ld2lkdGgiLCJsb2FkZXIiLCJvYmplY3QiLCJsb2FkQXN5bmMiLCJncm91cCIsInNjYWxlIiwic2V0U2NhbGFyIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./pages/index.js\n"));

/***/ })

});