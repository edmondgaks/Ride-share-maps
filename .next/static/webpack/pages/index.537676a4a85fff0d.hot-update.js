"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
self["webpackHotUpdate_N_E"]("pages/index",{

/***/ "./components/Animate.js":
/*!*******************************!*\
  !*** ./components/Animate.js ***!
  \*******************************/
/***/ (function(module, __webpack_exports__, __webpack_require__) {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": function() { return /* binding */ Animate; }\n/* harmony export */ });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"./node_modules/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _ubilabs_threejs_overlay_view__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @ubilabs/threejs-overlay-view */ \"./node_modules/@ubilabs/threejs-overlay-view/dist/threejs-overlay-view.modern.js\");\n/* harmony import */ var three__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! three */ \"./node_modules/three/build/three.module.js\");\n/* harmony import */ var _utils_createTrackFromCurve__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../utils/createTrackFromCurve */ \"./utils/createTrackFromCurve.js\");\n/* harmony import */ var _utils_loadModel__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../utils/loadModel */ \"./utils/loadModel.js\");\n/* harmony import */ var _constants_mapOptions__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../constants/mapOptions */ \"./constants/mapOptions.js\");\n/* harmony import */ var _Directions__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./Directions */ \"./components/Directions.js\");\nvar _s = $RefreshSig$();\n\n\n\n\n\n\n\nconst FRONT_VECTOR = new three__WEBPACK_IMPORTED_MODULE_6__.Vector3(0, -1, 0);\nfunction Animate(param) {\n    let { route , map  } = param;\n    _s();\n    const overlayRef = (0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)();\n    const trackRef = (0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)();\n    const carRef = (0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)();\n    (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(()=>{\n        map.setCenter(route[Math.floor(route.length / 2)], 17);\n        if (!overlayRef.current) {\n            overlayRef.current = new _ubilabs_threejs_overlay_view__WEBPACK_IMPORTED_MODULE_1__[\"default\"](_constants_mapOptions__WEBPACK_IMPORTED_MODULE_4__[\"default\"].center);\n            overlayRef.current.setMap(map);\n        }\n        const scene = overlayRef.current.getScene();\n        const points = route.map((p)=>overlayRef.current.latLngAltToVector3(p));\n        const curve = new three__WEBPACK_IMPORTED_MODULE_6__.CatmullRomCurve3(points);\n        if (trackRef.current) {\n            scene.remove(trackRef.current);\n        }\n        trackRef.current = (0,_utils_createTrackFromCurve__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(curve);\n        scene.add(trackRef.current);\n        (0,_utils_loadModel__WEBPACK_IMPORTED_MODULE_3__[\"default\"])().then((model)=>{\n            if (carRef.current) {\n                scene.remove(carRef.current);\n            }\n            carRef.current = model;\n            scene.add(carRef.current);\n        });\n        overlayRef.current.update = ()=>{\n            trackRef.current.material.resolution.copy(overlayRef.current.getViewportSize());\n            if (carRef.current) {\n                const progress = performance.now() % _Directions__WEBPACK_IMPORTED_MODULE_5__.ANIMATION_MS / _Directions__WEBPACK_IMPORTED_MODULE_5__.ANIMATION_MS;\n                curve.getPointAt(progress, carRef.current.position);\n                carRef.current.quaternion.setFromUnitVectors(FRONT_VECTOR, curve.getTangentAt(progress));\n                carRef.current.rotateX(Math.PI / 2);\n            }\n            overlayRef.current.requestRedraw();\n        };\n        return ()=>{\n            scene.remove(trackRef.current);\n            scene.remove(carRef.current);\n        };\n    }, [\n        route\n    ]);\n}\n_s(Animate, \"ngmQrhG33yL2qXSw+16+H4HPglk=\");\n_c = Animate;\nvar _c;\n$RefreshReg$(_c, \"Animate\");\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // AMP / No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevExports = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevExports) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports on update so we can compare the boundary\n                // signatures.\n                module.hot.dispose(function (data) {\n                    data.prevExports = currentExports;\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevExports !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevExports, currentExports)) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevExports !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9jb21wb25lbnRzL0FuaW1hdGUuanMuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7O0FBQUE7QUFBMkQ7QUFDSTtBQUNiO0FBRWU7QUFDdEI7QUFDTTtBQUNMO0FBRTVDLE1BQU1XLGVBQWUsSUFBSUwsMENBQU9BLENBQUMsR0FBRyxDQUFDLEdBQUc7QUFFekIsU0FBU00sUUFBUSxLQUFjLEVBQUU7UUFBaEIsRUFBRUMsTUFBSyxFQUFFQyxJQUFHLEVBQUUsR0FBZDs7SUFDOUIsTUFBTUMsYUFBYVosNkNBQU1BO0lBQ3pCLE1BQU1hLFdBQVdiLDZDQUFNQTtJQUN2QixNQUFNYyxTQUFTZCw2Q0FBTUE7SUFFckJELGdEQUFTQSxDQUFDLElBQU07UUFDZFksSUFBSUksU0FBUyxDQUFDTCxLQUFLLENBQUNNLEtBQUtDLEtBQUssQ0FBQ1AsTUFBTVEsTUFBTSxHQUFHLEdBQUcsRUFBRTtRQUVuRCxJQUFJLENBQUNOLFdBQVdPLE9BQU8sRUFBRTtZQUN2QlAsV0FBV08sT0FBTyxHQUFHLElBQUlsQixxRUFBa0JBLENBQUNLLG9FQUFpQjtZQUM3RE0sV0FBV08sT0FBTyxDQUFDRSxNQUFNLENBQUNWO1FBQzVCLENBQUM7UUFFRCxNQUFNVyxRQUFRVixXQUFXTyxPQUFPLENBQUNJLFFBQVE7UUFDekMsTUFBTUMsU0FBU2QsTUFBTUMsR0FBRyxDQUFDLENBQUNjLElBQU1iLFdBQVdPLE9BQU8sQ0FBQ08sa0JBQWtCLENBQUNEO1FBQ3RFLE1BQU1FLFFBQVEsSUFBSXpCLG1EQUFnQkEsQ0FBQ3NCO1FBRW5DLElBQUlYLFNBQVNNLE9BQU8sRUFBRTtZQUNwQkcsTUFBTU0sTUFBTSxDQUFDZixTQUFTTSxPQUFPO1FBQy9CLENBQUM7UUFDRE4sU0FBU00sT0FBTyxHQUFHZix1RUFBb0JBLENBQUN1QjtRQUN4Q0wsTUFBTU8sR0FBRyxDQUFDaEIsU0FBU00sT0FBTztRQUUxQmQsNERBQVNBLEdBQUd5QixJQUFJLENBQUMsQ0FBQ0MsUUFBVTtZQUMxQixJQUFJakIsT0FBT0ssT0FBTyxFQUFFO2dCQUNsQkcsTUFBTU0sTUFBTSxDQUFDZCxPQUFPSyxPQUFPO1lBQzdCLENBQUM7WUFDREwsT0FBT0ssT0FBTyxHQUFHWTtZQUNqQlQsTUFBTU8sR0FBRyxDQUFDZixPQUFPSyxPQUFPO1FBQzFCO1FBRUFQLFdBQVdPLE9BQU8sQ0FBQ2EsTUFBTSxHQUFHLElBQU07WUFDaENuQixTQUFTTSxPQUFPLENBQUNjLFFBQVEsQ0FBQ0MsVUFBVSxDQUFDQyxJQUFJLENBQ3ZDdkIsV0FBV08sT0FBTyxDQUFDaUIsZUFBZTtZQUdwQyxJQUFJdEIsT0FBT0ssT0FBTyxFQUFFO2dCQUNsQixNQUFNa0IsV0FBVyxZQUFhRSxHQUFHLEtBQUtoQyxxREFBWUEsR0FBSUEscURBQVlBO2dCQUNsRW9CLE1BQU1hLFVBQVUsQ0FBQ0gsVUFBVXZCLE9BQU9LLE9BQU8sQ0FBQ3NCLFFBQVE7Z0JBQ2xEM0IsT0FBT0ssT0FBTyxDQUFDdUIsVUFBVSxDQUFDQyxrQkFBa0IsQ0FDMUNuQyxjQUNBbUIsTUFBTWlCLFlBQVksQ0FBQ1A7Z0JBRXJCdkIsT0FBT0ssT0FBTyxDQUFDMEIsT0FBTyxDQUFDN0IsS0FBSzhCLEVBQUUsR0FBRztZQUNuQyxDQUFDO1lBRURsQyxXQUFXTyxPQUFPLENBQUM0QixhQUFhO1FBQ2xDO1FBRUEsT0FBTyxJQUFNO1lBQ1h6QixNQUFNTSxNQUFNLENBQUNmLFNBQVNNLE9BQU87WUFDN0JHLE1BQU1NLE1BQU0sQ0FBQ2QsT0FBT0ssT0FBTztRQUM3QjtJQUNGLEdBQUc7UUFBQ1Q7S0FBTTtBQUNaLENBQUM7R0F0RHVCRDtLQUFBQSIsInNvdXJjZXMiOlsid2VicGFjazovL19OX0UvLi9jb21wb25lbnRzL0FuaW1hdGUuanM/YmY3ZiJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgUmVhY3QsIHsgdXNlU3RhdGUsIHVzZUVmZmVjdCwgdXNlUmVmIH0gZnJvbSBcInJlYWN0XCI7XG5pbXBvcnQgVGhyZWVqc092ZXJsYXlWaWV3IGZyb20gXCJAdWJpbGFicy90aHJlZWpzLW92ZXJsYXktdmlld1wiO1xuaW1wb3J0IHsgQ2F0bXVsbFJvbUN1cnZlMywgVmVjdG9yMyB9IGZyb20gXCJ0aHJlZVwiO1xuXG5pbXBvcnQgY3JlYXRlVHJhY2tGcm9tQ3VydmUgZnJvbSBcIi4uL3V0aWxzL2NyZWF0ZVRyYWNrRnJvbUN1cnZlXCI7XG5pbXBvcnQgbG9hZE1vZGVsIGZyb20gXCIuLi91dGlscy9sb2FkTW9kZWxcIjtcbmltcG9ydCBtYXBPcHRpb25zIGZyb20gXCIuLi9jb25zdGFudHMvbWFwT3B0aW9uc1wiO1xuaW1wb3J0IHsgQU5JTUFUSU9OX01TIH0gZnJvbSBcIi4vRGlyZWN0aW9uc1wiO1xuXG5jb25zdCBGUk9OVF9WRUNUT1IgPSBuZXcgVmVjdG9yMygwLCAtMSwgMCk7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIEFuaW1hdGUoeyByb3V0ZSwgbWFwIH0pIHtcbiAgY29uc3Qgb3ZlcmxheVJlZiA9IHVzZVJlZigpO1xuICBjb25zdCB0cmFja1JlZiA9IHVzZVJlZigpO1xuICBjb25zdCBjYXJSZWYgPSB1c2VSZWYoKTtcblxuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIG1hcC5zZXRDZW50ZXIocm91dGVbTWF0aC5mbG9vcihyb3V0ZS5sZW5ndGggLyAyKV0sIDE3KTtcblxuICAgIGlmICghb3ZlcmxheVJlZi5jdXJyZW50KSB7XG4gICAgICBvdmVybGF5UmVmLmN1cnJlbnQgPSBuZXcgVGhyZWVqc092ZXJsYXlWaWV3KG1hcE9wdGlvbnMuY2VudGVyKTtcbiAgICAgIG92ZXJsYXlSZWYuY3VycmVudC5zZXRNYXAobWFwKTtcbiAgICB9XG5cbiAgICBjb25zdCBzY2VuZSA9IG92ZXJsYXlSZWYuY3VycmVudC5nZXRTY2VuZSgpO1xuICAgIGNvbnN0IHBvaW50cyA9IHJvdXRlLm1hcCgocCkgPT4gb3ZlcmxheVJlZi5jdXJyZW50LmxhdExuZ0FsdFRvVmVjdG9yMyhwKSk7XG4gICAgY29uc3QgY3VydmUgPSBuZXcgQ2F0bXVsbFJvbUN1cnZlMyhwb2ludHMpO1xuXG4gICAgaWYgKHRyYWNrUmVmLmN1cnJlbnQpIHtcbiAgICAgIHNjZW5lLnJlbW92ZSh0cmFja1JlZi5jdXJyZW50KTtcbiAgICB9XG4gICAgdHJhY2tSZWYuY3VycmVudCA9IGNyZWF0ZVRyYWNrRnJvbUN1cnZlKGN1cnZlKTtcbiAgICBzY2VuZS5hZGQodHJhY2tSZWYuY3VycmVudCk7XG5cbiAgICBsb2FkTW9kZWwoKS50aGVuKChtb2RlbCkgPT4ge1xuICAgICAgaWYgKGNhclJlZi5jdXJyZW50KSB7XG4gICAgICAgIHNjZW5lLnJlbW92ZShjYXJSZWYuY3VycmVudCk7XG4gICAgICB9XG4gICAgICBjYXJSZWYuY3VycmVudCA9IG1vZGVsO1xuICAgICAgc2NlbmUuYWRkKGNhclJlZi5jdXJyZW50KTtcbiAgICB9KTtcblxuICAgIG92ZXJsYXlSZWYuY3VycmVudC51cGRhdGUgPSAoKSA9PiB7XG4gICAgICB0cmFja1JlZi5jdXJyZW50Lm1hdGVyaWFsLnJlc29sdXRpb24uY29weShcbiAgICAgICAgb3ZlcmxheVJlZi5jdXJyZW50LmdldFZpZXdwb3J0U2l6ZSgpXG4gICAgICApO1xuXG4gICAgICBpZiAoY2FyUmVmLmN1cnJlbnQpIHtcbiAgICAgICAgY29uc3QgcHJvZ3Jlc3MgPSAocGVyZm9ybWFuY2Uubm93KCkgJSBBTklNQVRJT05fTVMpIC8gQU5JTUFUSU9OX01TO1xuICAgICAgICBjdXJ2ZS5nZXRQb2ludEF0KHByb2dyZXNzLCBjYXJSZWYuY3VycmVudC5wb3NpdGlvbik7XG4gICAgICAgIGNhclJlZi5jdXJyZW50LnF1YXRlcm5pb24uc2V0RnJvbVVuaXRWZWN0b3JzKFxuICAgICAgICAgIEZST05UX1ZFQ1RPUixcbiAgICAgICAgICBjdXJ2ZS5nZXRUYW5nZW50QXQocHJvZ3Jlc3MpXG4gICAgICAgICk7XG4gICAgICAgIGNhclJlZi5jdXJyZW50LnJvdGF0ZVgoTWF0aC5QSSAvIDIpO1xuICAgICAgfVxuXG4gICAgICBvdmVybGF5UmVmLmN1cnJlbnQucmVxdWVzdFJlZHJhdygpO1xuICAgIH07XG5cbiAgICByZXR1cm4gKCkgPT4ge1xuICAgICAgc2NlbmUucmVtb3ZlKHRyYWNrUmVmLmN1cnJlbnQpO1xuICAgICAgc2NlbmUucmVtb3ZlKGNhclJlZi5jdXJyZW50KTtcbiAgICB9O1xuICB9LCBbcm91dGVdKTtcbn1cbiJdLCJuYW1lcyI6WyJSZWFjdCIsInVzZVN0YXRlIiwidXNlRWZmZWN0IiwidXNlUmVmIiwiVGhyZWVqc092ZXJsYXlWaWV3IiwiQ2F0bXVsbFJvbUN1cnZlMyIsIlZlY3RvcjMiLCJjcmVhdGVUcmFja0Zyb21DdXJ2ZSIsImxvYWRNb2RlbCIsIm1hcE9wdGlvbnMiLCJBTklNQVRJT05fTVMiLCJGUk9OVF9WRUNUT1IiLCJBbmltYXRlIiwicm91dGUiLCJtYXAiLCJvdmVybGF5UmVmIiwidHJhY2tSZWYiLCJjYXJSZWYiLCJzZXRDZW50ZXIiLCJNYXRoIiwiZmxvb3IiLCJsZW5ndGgiLCJjdXJyZW50IiwiY2VudGVyIiwic2V0TWFwIiwic2NlbmUiLCJnZXRTY2VuZSIsInBvaW50cyIsInAiLCJsYXRMbmdBbHRUb1ZlY3RvcjMiLCJjdXJ2ZSIsInJlbW92ZSIsImFkZCIsInRoZW4iLCJtb2RlbCIsInVwZGF0ZSIsIm1hdGVyaWFsIiwicmVzb2x1dGlvbiIsImNvcHkiLCJnZXRWaWV3cG9ydFNpemUiLCJwcm9ncmVzcyIsInBlcmZvcm1hbmNlIiwibm93IiwiZ2V0UG9pbnRBdCIsInBvc2l0aW9uIiwicXVhdGVybmlvbiIsInNldEZyb21Vbml0VmVjdG9ycyIsImdldFRhbmdlbnRBdCIsInJvdGF0ZVgiLCJQSSIsInJlcXVlc3RSZWRyYXciXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./components/Animate.js\n"));

/***/ })

});